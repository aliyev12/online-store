{"version":3,"file":"static/webpack/static/development/pages/_app.js.23a0a9c418ddeee23c88.hot-update.js","sources":["webpack:///./components/Cart.js"],"sourcesContent":["import React from 'react';\nimport { Query, Mutation } from 'react-apollo';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { gql } from 'apollo-boost';\nimport handleError from '../lib/handleError';\n\nimport CartStyles from './styles/CartStyles';\nimport Supreme from './styles/Supreme';\nimport CloseButton from './styles/CloseButton';\nimport SickButton from './styles/SickButton';\nimport User from './User';\nimport useUser from '../hooks/useUser';\nimport CartItem from './CartItem';\nimport calcTotalPrice from '../lib/calcTotalPrice';\nimport formatMoney from '../lib/formatMoney';\nimport TakeMyMoney from './TakeMyMoney';\n\nexport const LOCAL_STATE_QUERY = gql`\n  query {\n    cartOpen @client\n  }\n`;\n\nexport const TOGGLE_CART_MUTATION = gql`\n  mutation {\n    toggleCart @client\n  }\n`;\n\nconst Cart = () => {\n  const { loading, error, data } = useQuery(LOCAL_STATE_QUERY);\n  const [toggleCart] = useMutation(TOGGLE_CART_MUTATION);\n  const user = useUser();\n\n  if (user.data && !user.data.me) {\n    return null;\n  } else {\n    return (\n      <CartStyles open={data.cartOpen}>\n        {loading && <p>Loading...</p>}\n        {error && handleError(error)}\n        {!loading && !error && (\n          <>\n            <header>\n              <CloseButton onClick={toggleCart} title=\"close\">\n                &times;\n              </CloseButton>\n              <Supreme>\n                {/* Your Cart */}\n                {/* {me.name}\n                {me.name[me.name.length - 1] === 's' ? `'` : `'s`} Cart */}\n              </Supreme>\n              {/* <p>\n                You have {me.cart.length} item{me.cart.length === 1 ? '' : 's'}{' '}\n                in your cart.\n              </p> */}\n            </header>\n            <ul>\n              {user.data &&\n                user.data.me.cart.map(cartItem => (\n                  <CartItem key={cartItem.id} cartItem={cartItem} />\n                ))}\n            </ul>\n            <footer>\n              <p>{formatMoney(calcTotalPrice(user.data && user.data.me.cart))}</p>\n              {user.data && user.data.me.cart.length && (\n                <TakeMyMoney>\n                  <SickButton>Checkout</SickButton>\n                </TakeMyMoney>\n              )}\n            </footer>\n          </>\n        )}\n      </CartStyles>\n    );\n  }\n};\n\nexport default Cart;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAMA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;;;;A","sourceRoot":""}