{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{\"1kfB\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/permissions\",function(){var e=n(\"xo/1\");return{page:e.default||e}}])},\"2FTe\":function(e,t,n){\"use strict\";var r=n(\"vOnD\").c.button.withConfig({displayName:\"SickButton\",componentId:\"l04z44-0\"})([\"background:red;color:white;font-weight:500;border:0;border-radius:0;text-transform:uppercase;font-size:2rem;padding:0.8rem 1.5rem;transform:skew(-2deg);display:inline-block;transition:all 0.5s;&[disabled]{opacity:0.5;}\"]);t.a=r},\"4mXO\":function(e,t,n){e.exports=n(\"7TPF\")},\"5c+8\":function(e,t,n){\"use strict\";var r=n(\"q1tI\"),a=n.n(r),i=n(\"ttZb\"),l=n(\"R9qi\"),o=n(\"km3s\");t.a=function(e){var t=Object(i.e)(l.a),n=t.data;return t.loading?a.a.createElement(\"p\",null,\"Loading...\"):n?n.me?e.children:a.a.createElement(\"div\",null,a.a.createElement(\"p\",null,\"Please sign in before continuing\"),a.a.createElement(o.a,null)):a.a.createElement(\"p\",null,\"Sorry, something went wrong. Error code: PS-01\")}},\"7TPF\":function(e,t,n){n(\"AUvm\"),e.exports=n(\"WEpk\").Object.getOwnPropertySymbols},km3s:function(e,t,n){\"use strict\";var r=n(\"ln6h\"),a=n.n(r),i=n(\"O40h\"),l=n(\"vYYK\"),o=n(\"zrwo\"),u=n(\"doui\"),c=n(\"rt45\"),s=n(\"q1tI\"),m=n.n(s),d=n(\"ttZb\"),p=n(\"LIIV\"),f=n(\"mzXK\"),b=n(\"VUBQ\"),E=n(\"VliS\");function h(){var e=Object(c.a)([\"\\n  mutation SIGNIN_MUTATION($email: String!, $password: String!) {\\n    signin(email: $email, password: $password) {\\n      id\\n      email\\n      name\\n    }\\n  }\\n\"]);return h=function(){return e},e}var v=Object(p.b)(h());t.a=function(){var e=Object(s.useState)({email:\"\",name:\"\",password:\"\"}),t=Object(u.default)(e,2),n=t[0],r=t[1],c=Object(d.d)(v,{variables:n,refetchQueries:[{query:E.a}]}),p=Object(u.default)(c,2),h=p[0],g=p[1],w=g.error,O=g.loading,j=function(e){var t=e.target;r(Object(o.a)({},n,Object(l.a)({},t.name,t.value)))};return m.a.createElement(f.a,{method:\"post\",onSubmit:function(){var e=Object(i.default)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h();case 3:e.sent,r(Object(o.a)({},n,{email:\"\",name:\"\",password:\"\"}));case 5:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},m.a.createElement(\"fieldset\",{disabled:O,\"aria-busy\":O},m.a.createElement(\"h2\",null,\"Sign Into Your Account\"),m.a.createElement(b.a,{error:w}),m.a.createElement(\"label\",{htmlFor:\"email\"},\"Email\",m.a.createElement(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:n.email,onChange:j})),m.a.createElement(\"label\",{htmlFor:\"password\"},\"Password\",m.a.createElement(\"input\",{type:\"password\",name:\"password\",value:n.password,onChange:j})),m.a.createElement(\"button\",{type:\"submit\"},\"Sign In!\")))}},vYYK:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return i});var r=n(\"hfKm\"),a=n.n(r);function i(e,t,n){return t in e?a()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},\"xo/1\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"q1tI\"),a=n.n(r),i=n(\"5c+8\"),l=n(\"ln6h\"),o=n.n(l),u=n(\"O40h\"),c=n(\"dfwq\"),s=n(\"doui\"),m=n(\"rt45\"),d=n(\"ttZb\"),p=n(\"LIIV\"),f=n(\"VUBQ\"),b=n(\"vOnD\").c.table.withConfig({displayName:\"Table\",componentId:\"sc-1jvbtk5-0\"})([\"border-spacing:0;width:100%;border:1px solid \",\";thead{font-size:10px;}td,th{border-bottom:1px solid \",\";border-right:1px solid \",\";padding:5px;position:relative;&:last-child{border-right:none;width:150px;button{width:100%;}}},label{padding:10px 5px;display:block;},tr{&:hover{background:\",\";}}\"],function(e){return e.theme.offWhite},function(e){return e.theme.offWhite},function(e){return e.theme.offWhite},function(e){return e.theme.offWhite}),E=n(\"2FTe\");function h(){var e=Object(m.a)([\"\\n  query {\\n    users {\\n      id\\n      name\\n      email\\n      permissions\\n    }\\n  }\\n\"]);return h=function(){return e},e}function v(){var e=Object(m.a)([\"\\n  mutation updatePermissions($permissions: [Permission], $userId: ID!) {\\n    updatePermissions(permissions: $permissions, userId: $userId) {\\n      id\\n      permissions\\n      name\\n      email\\n    }\\n  }\\n\"]);return v=function(){return e},e}var g=[\"ADMIN\",\"USER\",\"ITEMCREATE\",\"ITEMUPDATE\",\"ITEMDELETE\",\"PERMISSIONUPDATE\"],w=Object(p.b)(v()),O=Object(p.b)(h()),j=function(e){var t=e.user,n=Object(r.useState)(t.permissions),i=Object(s.default)(n,2),l=i[0],m=i[1],p=Object(d.d)(w,{variables:{permissions:l,userId:t.id}}),b=Object(s.default)(p,2),h=b[0],v=b[1],O=v.loading,j=v.error;return a.a.createElement(a.a.Fragment,null,j&&a.a.createElement(\"tr\",null,a.a.createElement(\"td\",{colSpan:\"8\"},a.a.createElement(f.a,{error:j}))),a.a.createElement(\"tr\",null,a.a.createElement(\"td\",null,t.name),a.a.createElement(\"td\",null,t.email),g.map(function(e,n){return a.a.createElement(\"td\",{key:e+n},a.a.createElement(\"label\",{htmlFor:\"\".concat(t.id,\"-permission-\").concat(e)},a.a.createElement(\"input\",{id:\"\".concat(t.id,\"-permission-\").concat(e),type:\"checkbox\",checked:l.includes(e),value:e,onChange:function(e){return function(e,t){var n=e.target,r=Object(c.default)(l);n.checked?r.push(n.value):r=r.filter(function(e){return e!==n.value}),function(){var e=Object(u.default)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(r);case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()().then(function(){return t()})}(e,h)}})))}),a.a.createElement(\"td\",null,a.a.createElement(E.a,{type:\"button\",disabled:O,onClick:h},\"Updat\",O?\"ing\":\"e\"))))},I=function(e){var t=Object(d.e)(O),n=t.data,r=(t.loading,t.error);return console.log(n&&n)||a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,{error:r}),a.a.createElement(\"div\",null,a.a.createElement(\"h2\",null,\"Manage Permissions\"),a.a.createElement(b,null,a.a.createElement(\"thead\",null,a.a.createElement(\"tr\",null,a.a.createElement(\"th\",null,\"Name\"),a.a.createElement(\"th\",null,\"Email\"),g.map(function(e){return a.a.createElement(\"th\",{key:e},e)}),a.a.createElement(\"th\",null,a.a.createElement(\"span\",{role:\"image\"},\"\\ud83d\\udc47\")))),a.a.createElement(\"tbody\",null,n&&n.users&&n.users.map(function(e){return a.a.createElement(j,{key:e.id,user:e})})))))};t.default=function(){return a.a.createElement(\"div\",null,a.a.createElement(i.a,null,a.a.createElement(I,null)))}},zrwo:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return s});var r=n(\"Jo+v\"),a=n.n(r),i=n(\"4mXO\"),l=n.n(i),o=n(\"pLtp\"),u=n.n(o),c=n(\"vYYK\");function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=u()(n);\"function\"===typeof l.a&&(r=r.concat(l()(n).filter(function(e){return a()(n,e).enumerable}))),r.forEach(function(t){Object(c.a)(e,t,n[t])})}return e}}},[[\"1kfB\",1,0]]]);"}