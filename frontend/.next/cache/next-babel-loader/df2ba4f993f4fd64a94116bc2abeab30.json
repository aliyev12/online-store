{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation {\\n    toggleCart @client\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query {\\n    cartOpen @client\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport { Query, Mutation } from 'react-apollo';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { gql } from 'apollo-boost';\nimport handleError from '../lib/handleError';\nimport CartStyles from './styles/CartStyles';\nimport Supreme from './styles/Supreme';\nimport CloseButton from './styles/CloseButton';\nimport SickButton from './styles/SickButton';\nimport User from './User';\nimport useUser from '../hooks/useUser';\nimport CartItem from './CartItem';\nimport calcTotalPrice from '../lib/calcTotalPrice';\nimport formatMoney from '../lib/formatMoney';\nimport TakeMyMoney from './TakeMyMoney';\nexport var LOCAL_STATE_QUERY = gql(_templateObject());\nexport var TOGGLE_CART_MUTATION = gql(_templateObject2());\n\nvar Cart = function Cart() {\n  var _useQuery = useQuery(LOCAL_STATE_QUERY),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data;\n\n  var _useMutation = useMutation(TOGGLE_CART_MUTATION),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      toggleCart = _useMutation2[0];\n\n  var user = useUser();\n\n  if (user.data && !user.data.me) {\n    return null;\n  } else {\n    return React.createElement(CartStyles, {\n      open: data.cartOpen\n    }, loading && React.createElement(\"p\", null, \"Loading...\"), error && handleError(error), !loading && !error && React.createElement(React.Fragment, null, React.createElement(\"header\", null, React.createElement(CloseButton, {\n      onClick: toggleCart,\n      title: \"close\"\n    }, \"\\xD7\"), React.createElement(Supreme, null)), React.createElement(\"ul\", null, user.data && user.data.me.cart.map(function (cartItem) {\n      return React.createElement(CartItem, {\n        key: cartItem.id,\n        cartItem: cartItem\n      });\n    })), React.createElement(\"footer\", null, user.data && user.data.me.cart.length && React.createElement(\"div\", null, React.createElement(\"p\", null, formatMoney(calcTotalPrice(user.data.me.cart))), React.createElement(TakeMyMoney, null, React.createElement(SickButton, null, \"Checkout\"))))));\n  }\n};\n\nexport default Cart;","map":null,"metadata":{},"sourceType":"module"}