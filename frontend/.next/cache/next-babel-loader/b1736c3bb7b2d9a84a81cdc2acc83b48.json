{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/abdulaliyev/tut/nextjs-graphql/online-store/frontend/components/Cart.js\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation {\\n    toggleCart @client\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query {\\n    cartOpen @client\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport { Query, Mutation } from 'react-apollo';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { gql } from 'apollo-boost';\nimport handleError from '../lib/handleError';\nimport CartStyles from './styles/CartStyles';\nimport Supreme from './styles/Supreme';\nimport CloseButton from './styles/CloseButton';\nimport SickButton from './styles/SickButton';\nimport User from './User';\nimport useUser from '../hooks/useUser';\nimport CartItem from './CartItem';\nimport calcTotalPrice from '../lib/calcTotalPrice';\nimport formatMoney from '../lib/formatMoney';\nimport TakeMyMoney from './TakeMyMoney';\nexport var LOCAL_STATE_QUERY = gql(_templateObject());\nexport var TOGGLE_CART_MUTATION = gql(_templateObject2());\n\nvar Cart = function Cart() {\n  var _useQuery = useQuery(LOCAL_STATE_QUERY),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data;\n\n  var _useMutation = useMutation(TOGGLE_CART_MUTATION),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      toggleCart = _useMutation2[0];\n\n  var user = useUser();\n\n  if (user.data && !user.data.me) {\n    return null;\n  } else {\n    return React.createElement(CartStyles, {\n      open: data.cartOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, loading && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Loading...\"), error && handleError(error), !loading && !error && React.createElement(React.Fragment, null, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(CloseButton, {\n      onClick: toggleCart,\n      title: \"close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"\\xD7\"), React.createElement(Supreme, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, user.data && user.data.me.cart.map(function (cartItem) {\n      return React.createElement(CartItem, {\n        key: cartItem.id,\n        cartItem: cartItem,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      });\n    })), React.createElement(\"footer\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, user.data && user.data.me.cart.length && React.createElement(React.Fragment, null, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, formatMoney(calcTotalPrice(user.data.me.cart))), React.createElement(TakeMyMoney, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(SickButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Checkout\"))))));\n  }\n};\n\nexport default Cart;","map":{"version":3,"sources":["/Users/abdulaliyev/tut/nextjs-graphql/online-store/frontend/components/Cart.js"],"names":["React","Query","Mutation","useQuery","useMutation","gql","handleError","CartStyles","Supreme","CloseButton","SickButton","User","useUser","CartItem","calcTotalPrice","formatMoney","TakeMyMoney","LOCAL_STATE_QUERY","TOGGLE_CART_MUTATION","Cart","loading","error","data","toggleCart","user","me","cartOpen","cart","map","cartItem","id","length"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,cAAhC;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,qBAAtC;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AAEA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,OAAO,IAAMC,iBAAiB,GAAGZ,GAAH,mBAAvB;AAMP,OAAO,IAAMa,oBAAoB,GAAGb,GAAH,oBAA1B;;AAMP,IAAMc,IAAI,GAAG,SAAPA,IAAO,GAAM;AAAA,kBACgBhB,QAAQ,CAACc,iBAAD,CADxB;AAAA,MACTG,OADS,aACTA,OADS;AAAA,MACAC,KADA,aACAA,KADA;AAAA,MACOC,IADP,aACOA,IADP;;AAAA,qBAEIlB,WAAW,CAACc,oBAAD,CAFf;AAAA;AAAA,MAEVK,UAFU;;AAGjB,MAAMC,IAAI,GAAGZ,OAAO,EAApB;;AAEA,MAAIY,IAAI,CAACF,IAAL,IAAa,CAACE,IAAI,CAACF,IAAL,CAAUG,EAA5B,EAAgC;AAC9B,WAAO,IAAP;AACD,GAFD,MAEO;AACL,WACE,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAEH,IAAI,CAACI,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGN,OAAO,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADd,EAEGC,KAAK,IAAIf,WAAW,CAACe,KAAD,CAFvB,EAGG,CAACD,OAAD,IAAY,CAACC,KAAb,IACC,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AAAa,MAAA,OAAO,EAAEE,UAAtB;AAAkC,MAAA,KAAK,EAAC,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAIE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADF,EAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGC,IAAI,CAACF,IAAL,IACCE,IAAI,CAACF,IAAL,CAAUG,EAAV,CAAaE,IAAb,CAAkBC,GAAlB,CAAsB,UAAAC,QAAQ;AAAA,aAC5B,oBAAC,QAAD;AAAU,QAAA,GAAG,EAAEA,QAAQ,CAACC,EAAxB;AAA4B,QAAA,QAAQ,EAAED,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAD4B;AAAA,KAA9B,CAFJ,CAfF,EAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGL,IAAI,CAACF,IAAL,IAAaE,IAAI,CAACF,IAAL,CAAUG,EAAV,CAAaE,IAAb,CAAkBI,MAA/B,IACC,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIhB,WAAW,CAACD,cAAc,CAACU,IAAI,CAACF,IAAL,CAAUG,EAAV,CAAaE,IAAd,CAAf,CAAf,CADF,EAGE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CAHF,CAFJ,CArBF,CAJJ,CADF;AAyCD;AACF,CAlDD;;AAoDA,eAAeR,IAAf","sourcesContent":["import React from 'react';\nimport { Query, Mutation } from 'react-apollo';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { gql } from 'apollo-boost';\nimport handleError from '../lib/handleError';\n\nimport CartStyles from './styles/CartStyles';\nimport Supreme from './styles/Supreme';\nimport CloseButton from './styles/CloseButton';\nimport SickButton from './styles/SickButton';\nimport User from './User';\nimport useUser from '../hooks/useUser';\nimport CartItem from './CartItem';\nimport calcTotalPrice from '../lib/calcTotalPrice';\nimport formatMoney from '../lib/formatMoney';\nimport TakeMyMoney from './TakeMyMoney';\n\nexport const LOCAL_STATE_QUERY = gql`\n  query {\n    cartOpen @client\n  }\n`;\n\nexport const TOGGLE_CART_MUTATION = gql`\n  mutation {\n    toggleCart @client\n  }\n`;\n\nconst Cart = () => {\n  const { loading, error, data } = useQuery(LOCAL_STATE_QUERY);\n  const [toggleCart] = useMutation(TOGGLE_CART_MUTATION);\n  const user = useUser();\n\n  if (user.data && !user.data.me) {\n    return null;\n  } else {\n    return (\n      <CartStyles open={data.cartOpen}>\n        {loading && <p>Loading...</p>}\n        {error && handleError(error)}\n        {!loading && !error && (\n          <>\n            <header>\n              <CloseButton onClick={toggleCart} title=\"close\">\n                &times;\n              </CloseButton>\n              <Supreme>\n                {/* Your Cart */}\n                {/* {me.name}\n                {me.name[me.name.length - 1] === 's' ? `'` : `'s`} Cart */}\n              </Supreme>\n              {/* <p>\n                You have {me.cart.length} item{me.cart.length === 1 ? '' : 's'}{' '}\n                in your cart.\n              </p> */}\n            </header>\n            <ul>\n              {user.data &&\n                user.data.me.cart.map(cartItem => (\n                  <CartItem key={cartItem.id} cartItem={cartItem} />\n                ))}\n            </ul>\n            <footer>\n              {user.data && user.data.me.cart.length && (\n                <>\n                  <p>{formatMoney(calcTotalPrice(user.data.me.cart))}</p>\n\n                  <TakeMyMoney>\n                    <SickButton>Checkout</SickButton>\n                  </TakeMyMoney>\n                </>\n              )}\n            </footer>\n          </>\n        )}\n      </CartStyles>\n    );\n  }\n};\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}