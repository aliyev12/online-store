{"ast":null,"code":"var _jsxFileName = \"/Users/abdulaliyev/tut/nextjs-graphql/online-store/frontend/components/Cart.js\";\nimport React from 'react';\nimport { Query, Mutation } from 'react-apollo';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { gql } from 'apollo-boost';\nimport handleError from '../lib/handleError';\nimport CartStyles from './styles/CartStyles';\nimport Supreme from './styles/Supreme';\nimport CloseButton from './styles/CloseButton';\nimport SickButton from './styles/SickButton';\nimport User from './User';\nimport useUser from '../hooks/useUser';\nimport CartItem from './CartItem';\nimport calcTotalPrice from '../lib/calcTotalPrice';\nimport formatMoney from '../lib/formatMoney';\nimport TakeMyMoney from './TakeMyMoney';\nexport const LOCAL_STATE_QUERY = gql`\n  query {\n    cartOpen @client\n  }\n`;\nexport const TOGGLE_CART_MUTATION = gql`\n  mutation {\n    toggleCart @client\n  }\n`;\n\nconst Cart = () => {\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(LOCAL_STATE_QUERY);\n  const [toggleCart] = useMutation(TOGGLE_CART_MUTATION);\n  const user = useUser();\n\n  if (user.data && !user.data.me) {\n    return null;\n  } else {\n    return React.createElement(CartStyles, {\n      open: data.cartOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, loading && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Loading...\"), error && handleError(error), !loading && !error && React.createElement(React.Fragment, null, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(CloseButton, {\n      onClick: toggleCart,\n      title: \"close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"\\xD7\"), React.createElement(Supreme, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, user.data && user.data.me.cart.map(cartItem => React.createElement(CartItem, {\n      key: cartItem.id,\n      cartItem: cartItem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }))), React.createElement(\"footer\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, formatMoney(calcTotalPrice(user.data && user.data.me.cart ? user.data.me.cart : 1))), user.data && user.data.me.cart.length && React.createElement(TakeMyMoney, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(SickButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Checkout\")))));\n  }\n};\n\nexport default Cart;","map":{"version":3,"sources":["/Users/abdulaliyev/tut/nextjs-graphql/online-store/frontend/components/Cart.js"],"names":["React","Query","Mutation","useQuery","useMutation","gql","handleError","CartStyles","Supreme","CloseButton","SickButton","User","useUser","CartItem","calcTotalPrice","formatMoney","TakeMyMoney","LOCAL_STATE_QUERY","TOGGLE_CART_MUTATION","Cart","loading","error","data","toggleCart","user","me","cartOpen","cart","map","cartItem","id","length"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,cAAhC;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,qBAAtC;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AAEA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,OAAO,MAAMC,iBAAiB,GAAGZ,GAAI;;;;CAA9B;AAMP,OAAO,MAAMa,oBAAoB,GAAGb,GAAI;;;;CAAjC;;AAMP,MAAMc,IAAI,GAAG,MAAM;AACjB,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2BnB,QAAQ,CAACc,iBAAD,CAAzC;AACA,QAAM,CAACM,UAAD,IAAenB,WAAW,CAACc,oBAAD,CAAhC;AACA,QAAMM,IAAI,GAAGZ,OAAO,EAApB;;AAEA,MAAIY,IAAI,CAACF,IAAL,IAAa,CAACE,IAAI,CAACF,IAAL,CAAUG,EAA5B,EAAgC;AAC9B,WAAO,IAAP;AACD,GAFD,MAEO;AACL,WACE,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAEH,IAAI,CAACI,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGN,OAAO,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADd,EAEGC,KAAK,IAAIf,WAAW,CAACe,KAAD,CAFvB,EAGG,CAACD,OAAD,IAAY,CAACC,KAAb,IACC,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AAAa,MAAA,OAAO,EAAEE,UAAtB;AAAkC,MAAA,KAAK,EAAC,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAIE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADF,EAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGC,IAAI,CAACF,IAAL,IACCE,IAAI,CAACF,IAAL,CAAUG,EAAV,CAAaE,IAAb,CAAkBC,GAAlB,CAAsBC,QAAQ,IAC5B,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,QAAQ,CAACC,EAAxB;AAA4B,MAAA,QAAQ,EAAED,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFJ,CAfF,EAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAId,WAAW,CAACD,cAAc,CAACU,IAAI,CAACF,IAAL,IAAaE,IAAI,CAACF,IAAL,CAAUG,EAAV,CAAaE,IAA1B,GAAiCH,IAAI,CAACF,IAAL,CAAUG,EAAV,CAAaE,IAA9C,GAAqD,CAAtD,CAAf,CAAf,CADF,EAEGH,IAAI,CAACF,IAAL,IAAaE,IAAI,CAACF,IAAL,CAAUG,EAAV,CAAaE,IAAb,CAAkBI,MAA/B,IACC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CAHJ,CArBF,CAJJ,CADF;AAsCD;AACF,CA/CD;;AAiDA,eAAeZ,IAAf","sourcesContent":["import React from 'react';\nimport { Query, Mutation } from 'react-apollo';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { gql } from 'apollo-boost';\nimport handleError from '../lib/handleError';\n\nimport CartStyles from './styles/CartStyles';\nimport Supreme from './styles/Supreme';\nimport CloseButton from './styles/CloseButton';\nimport SickButton from './styles/SickButton';\nimport User from './User';\nimport useUser from '../hooks/useUser';\nimport CartItem from './CartItem';\nimport calcTotalPrice from '../lib/calcTotalPrice';\nimport formatMoney from '../lib/formatMoney';\nimport TakeMyMoney from './TakeMyMoney';\n\nexport const LOCAL_STATE_QUERY = gql`\n  query {\n    cartOpen @client\n  }\n`;\n\nexport const TOGGLE_CART_MUTATION = gql`\n  mutation {\n    toggleCart @client\n  }\n`;\n\nconst Cart = () => {\n  const { loading, error, data } = useQuery(LOCAL_STATE_QUERY);\n  const [toggleCart] = useMutation(TOGGLE_CART_MUTATION);\n  const user = useUser();\n\n  if (user.data && !user.data.me) {\n    return null;\n  } else {\n    return (\n      <CartStyles open={data.cartOpen}>\n        {loading && <p>Loading...</p>}\n        {error && handleError(error)}\n        {!loading && !error && (\n          <>\n            <header>\n              <CloseButton onClick={toggleCart} title=\"close\">\n                &times;\n              </CloseButton>\n              <Supreme>\n                {/* Your Cart */}\n                {/* {me.name}\n                {me.name[me.name.length - 1] === 's' ? `'` : `'s`} Cart */}\n              </Supreme>\n              {/* <p>\n                You have {me.cart.length} item{me.cart.length === 1 ? '' : 's'}{' '}\n                in your cart.\n              </p> */}\n            </header>\n            <ul>\n              {user.data &&\n                user.data.me.cart.map(cartItem => (\n                  <CartItem key={cartItem.id} cartItem={cartItem} />\n                ))}\n            </ul>\n            <footer>\n              <p>{formatMoney(calcTotalPrice(user.data && user.data.me.cart ? user.data.me.cart : 1))}</p>\n              {user.data && user.data.me.cart.length && (\n                <TakeMyMoney>\n                  <SickButton>Checkout</SickButton>\n                </TakeMyMoney>\n              )}\n            </footer>\n          </>\n        )}\n      </CartStyles>\n    );\n  }\n};\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}