{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/abdulaliyev/tut/nextjs-graphql/online-store/frontend/components/UpdateItem.js\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation UPDATE_ITEM_MUTATION(\\n    $title: String!\\n    $description: String!\\n    $price: Int!\\n  ) {\\n    createItem(\\n      title: $title\\n      description: $description\\n      price: $price\\n      image: $image\\n      largeImage: $largeImage\\n    ) {\\n      id\\n      title\\n      description\\n      price\\n    }\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query SINGLE_ITEM_QUERY($id: ID!) {\\n    item(where: { id: $id }) {\\n      id\\n      title\\n      description\\n      price\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport { Mutation, Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport Router from 'next/router';\nimport Form from './styles/Form';\nimport formatMoney from '../lib/formatMoney';\nimport Error from './ErrorMessage';\nexport var SINGLE_ITEM_QUERY = gql(_templateObject());\nexport var UPDATE_ITEM_MUTATION = gql(_templateObject2());\n\nvar UpdateItem = function UpdateItem(props) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      title = _useState2[0],\n      setTitle = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      description = _useState4[0],\n      setDescription = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      image = _useState6[0],\n      setImage = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      largeImage = _useState8[0],\n      setLargeImage = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      price = _useState10[0],\n      setPrice = _useState10[1];\n\n  var updateItem = function updateItem(e, updateItemMutation) {\n    console.log('updating item..');\n  };\n\n  return React.createElement(Query, {\n    query: SINGLE_ITEM_QUERY,\n    variables: {\n      id: props.id\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, function (_ref) {\n    var data = _ref.data,\n        loading = _ref.loading;\n    if (loading) React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Loading...\");\n    return React.createElement(Mutation, {\n      mutation: UPDATE_ITEM_MUTATION,\n      variables: {\n        title: title,\n        description: description,\n        image: image,\n        largeImage: largeImage,\n        price: price\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, function (updateItem, _ref2) {\n      var loading = _ref2.loading,\n          error = _ref2.error;\n      return React.createElement(Form, {\n        onSubmit: function onSubmit(e) {\n          return updateItem(e, updateItem);\n        },\n        method: \"post\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Error, {\n        error: error,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(\"fieldset\", {\n        disabled: loading,\n        \"aria-busy\": loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Title\", React.createElement(\"input\", {\n        type: \"text\",\n        id: \"title\",\n        name: \"title\",\n        placeholder: \"Title\",\n        required: true,\n        defaultValue: data.item.title,\n        onChange: function onChange(e) {\n          return setTitle(e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        htmlFor: \"price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Price\", React.createElement(\"input\", {\n        type: \"number\",\n        id: \"price\",\n        name: \"price\",\n        placeholder: \"Price\",\n        required: true,\n        defaultValue: data.item.price,\n        onChange: function onChange(e) {\n          return setPrice(e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        htmlFor: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Description\", React.createElement(\"textarea\", {\n        id: \"description\",\n        name: \"description\",\n        placeholder: \"Enter a Description\",\n        required: true,\n        defaultValue: data.item.description,\n        onChange: function onChange(e) {\n          return setDescription(e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Submit\")));\n    });\n  });\n};\n\nexport default UpdateItem;","map":{"version":3,"sources":["/Users/abdulaliyev/tut/nextjs-graphql/online-store/frontend/components/UpdateItem.js"],"names":["React","useState","Mutation","Query","gql","Router","Form","formatMoney","Error","SINGLE_ITEM_QUERY","UPDATE_ITEM_MUTATION","UpdateItem","props","title","setTitle","description","setDescription","image","setImage","largeImage","setLargeImage","price","setPrice","updateItem","e","updateItemMutation","console","log","id","data","loading","error","item","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Mutation, Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport Router from 'next/router';\nimport Form from './styles/Form';\nimport formatMoney from '../lib/formatMoney';\nimport Error from './ErrorMessage';\n\nexport const SINGLE_ITEM_QUERY = gql`\n  query SINGLE_ITEM_QUERY($id: ID!) {\n    item(where: { id: $id }) {\n      id\n      title\n      description\n      price\n    }\n  }\n`;\n\nexport const UPDATE_ITEM_MUTATION = gql`\n  mutation UPDATE_ITEM_MUTATION(\n    $title: String!\n    $description: String!\n    $price: Int!\n  ) {\n    createItem(\n      title: $title\n      description: $description\n      price: $price\n      image: $image\n      largeImage: $largeImage\n    ) {\n      id\n      title\n      description\n      price\n    }\n  }\n`;\n\nconst UpdateItem = props => {\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [image, setImage] = useState('');\n  const [largeImage, setLargeImage] = useState('');\n  const [price, setPrice] = useState(0);\n\n  const updateItem = (e, updateItemMutation) => {\n    console.log('updating item..');\n  }\n\n  return (\n    <Query query={SINGLE_ITEM_QUERY} variables={{ id: props.id }}>\n      {({ data, loading }) => {\n        if (loading) <p>Loading...</p>;\n        return (\n          <Mutation\n            mutation={UPDATE_ITEM_MUTATION}\n            variables={{\n              title,\n              description,\n              image,\n              largeImage,\n              price\n            }}\n          >\n            {(updateItem, { loading, error }) => (\n              <Form onSubmit={e => updateItem(e, updateItem)} method=\"post\">\n                <Error error={error} />\n                <fieldset disabled={loading} aria-busy={loading}>\n                  <label htmlFor=\"title\">\n                    Title\n                    <input\n                      type=\"text\"\n                      id=\"title\"\n                      name=\"title\"\n                      placeholder=\"Title\"\n                      required\n                      defaultValue={data.item.title}\n                      onChange={e => setTitle(e.target.value)}\n                    />\n                  </label>\n                  <label htmlFor=\"price\">\n                    Price\n                    <input\n                      type=\"number\"\n                      id=\"price\"\n                      name=\"price\"\n                      placeholder=\"Price\"\n                      required\n                      defaultValue={data.item.price}\n                      onChange={e => setPrice(e.target.value)}\n                    />\n                  </label>\n                  <label htmlFor=\"title\">\n                    Description\n                    <textarea\n                      id=\"description\"\n                      name=\"description\"\n                      placeholder=\"Enter a Description\"\n                      required\n                      defaultValue={data.item.description}\n                      onChange={e => setDescription(e.target.value)}\n                    />\n                  </label>\n                  <button type=\"submit\">Submit</button>\n                </fieldset>\n              </Form>\n            )}\n          </Mutation>\n        );\n      }}\n    </Query>\n  );\n};\n\nexport default UpdateItem;\n"]},"metadata":{},"sourceType":"module"}