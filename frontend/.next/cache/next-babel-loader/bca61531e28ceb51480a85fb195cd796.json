{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport React, { useState } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { gql } from 'apollo-boost';\nimport Form from './styles/Form';\nimport Error from './ErrorMessage';\nimport { CURRENT_USER_QUERY } from '../lib/queries';\nexport const SIGNUP_MUTATION = gql`\n  mutation SIGNUP_MUTATION(\n    $name: String!\n    $email: String!\n    $password: String!\n  ) {\n    signup(name: $name, email: $email, password: $password) {\n      email\n      name\n      id\n    }\n  }\n`;\n\nconst Signup = () => {\n  const [inputs, setInputs] = useState({\n    name: '',\n    email: '',\n    password: ''\n  });\n  const [signup, {\n    error,\n    loading\n  }] = useMutation(SIGNUP_MUTATION, {\n    variables: inputs,\n    refetchQueries: [{\n      query: CURRENT_USER_QUERY\n    }]\n  });\n\n  const handleFormField = ({\n    target\n  }) => {\n    setInputs(_objectSpread({}, inputs, {\n      [target.name]: target.value\n    }));\n  };\n\n  return React.createElement(Form, {\n    method: \"post\",\n    onSubmit: async e => {\n      e.preventDefault();\n      const res = await signup();\n      console.log(res);\n      setInputs(_objectSpread({}, inputs, {\n        name: '',\n        email: '',\n        password: ''\n      }));\n    }\n  }, React.createElement(\"fieldset\", {\n    disabled: loading,\n    \"aria-busy\": loading\n  }, React.createElement(\"h2\", null, \"Sign Up for An Account\"), React.createElement(Error, {\n    error: error\n  }), React.createElement(\"label\", {\n    htmlFor: \"email\"\n  }, \"Email\", React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"Email\",\n    value: inputs.email,\n    onChange: handleFormField\n  })), React.createElement(\"label\", {\n    htmlFor: \"name\"\n  }, \"Name\", React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Name\",\n    value: inputs.name,\n    onChange: handleFormField\n  })), React.createElement(\"label\", {\n    htmlFor: \"password\"\n  }, \"Password\", React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: inputs.password,\n    onChange: handleFormField\n  })), React.createElement(\"button\", {\n    type: \"submit\"\n  }, \"Sign Up!\")));\n};\n\nexport default Signup;","map":null,"metadata":{},"sourceType":"module"}